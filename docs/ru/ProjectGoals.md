# Проблемы, которые пытается решить проект
1. Отсутствие свободного движка, который развивается и используется для значимого числа игр на ежедневной основе. Есть VCMI, но он не развивается.  
2. Разработка HotA отстает от ожиданий коммьюнити:  
2.1. Темп разработки аддона HotA сильно ниже ожиданий: релизы по сути раз в год.  
2.2. Проприетарность разработки и HotA, и HD Mod. Разработка полностью закрыта. Отсутствие публичных “тестовых” сборок HotA. В случае закрытия проекта никто не сможет его "подхватить" и продолжить наработанное годами.  
2.3. Отсутствие возможности сообщества напрямую влиять на разработку в виде исправления багов или реализации фич.  
3. HD Mod - отсутствие альтернатив  
3.1. В случае падения лобби - никто не может взять и переключиться на альтернативный сервер лобби, поднять свой на своем сервере и тп.  
3.2. Привязка рейтинга игрока к лобби-серверу.  
4. SoD и HotA  - несовместимые проекты. Никто не может использовать плагины для SoD, т.к. HotA сама по себе как очень тяжелый плагин. В итоге имеем Fresh Mod; но опять же, нет возможности полноценно смешивать балансные и геймплейные фичи SoD/HotA. Например, сыграть с новым замком Причала, но на правилах SoD. Так же много желающих играть кастомки SoD вроде Парагона, но с UI фишками HotA (просчет мувов и обмен между героями в замке). Это так же частично решает Fresh Mod, но это опять же диверсификация разработки.  
5. Отсутствие возможностей, характерных для современных киберспортивных игр: реплеев, режима наблюдателя, подбора оппонентов.


# Цели и задачи проекта
Разработка свободного аналога HotA + HD Mod, как программы (без учета ресурсов игры). Необходимо чтобы любой мог собрать (и модифицировать) движок игры и серверную часть для него.  
Основная задача - разработка открытой реализации фич для Героев как киберспортивной дисциплины (режима наблюдателя, реплеев, подбора соперников и пр). При этом движок должен так же как и оригинальный, поддерживать singleplayer при отключенной сети - как на случайных, так и фиксированных картах. 
1. Открытость и децентрализация. Не смотря на наличие каких-то официальных сборок либо серверов лобби, любой должен иметь возможность наладить такую же инфраструктуру.
2. Публичный процесс разработки. Баг трекер, фич реквесты, планирование релизов и апдейтов - все должно быть полностью открытым и прозрачным. 
3. Бережное отношение к любому состоянию игры в плане баланса. Любой человек должен иметь возможность играть (с определенными настройками), "в тот самый SoD" , в "HOTA 1.5.0" и т.п. Игра, предоставляя новые возможности и изменения баланса, должна всегда предаставлять полную прямую совместимость со старыми релизами. Т.е. выходит сборка условно FreeHeroes 1.1 с балансными изменениями, все могут продолжать играть (и рейтинговые игры) и версии 1.0.
4. НЕ пытаться решить проблему авторских прав на контент игры NWC/Ubisoft. Так же как и проект VCMI, он полностью будет зависеть от предустановленных SoD/HotA на компьютере. Проект не будет фокусироваться на создании аналогов/реплейсеров текущих ресурсов (только в объеме, необходимом "игра запускается и не падает").
5. Кроссплатформенность; как для клиентской, так и для серверной части. Win/Mac/Linux, в перспективе и мобильные платформы (Android).
6. Заложить потенциал для использования разных движков AI (в том числе с использованием Machine Learning).
7. Проект не должен любым образом быть представлен как замена или конкурент HotA. Антипиар либо принижение "родственных" проектов - HotA, HD Mod, VCMI не допустимы.


# Почему не VCMI?  
Автор потратил несколько месяцев, пытаясь сделать небольшой рефакторинг графической части VCMI. К сожалению, качество кода таково, что не возможно сделать изменение, не затронув и переписав практически все. По итогу я начал создавать отдельный графический клиент в рамках проекта VCMI. Спустя какое-то время я понял что из-за связности кода мне приходится править практически все. Получилось, что я пишу с VCMI почти с нуля, и тестировать придется каждый компонент - но на все мои правки тестов не было.  
Идеологически, я бы по духу сказал что FreeHeroes это как “VCMI 2.0”, под другой лицензией (GPL->MIT) и с измененными приоритетами (во главе стоит онлайн-игра, а не singleplayer+modding).

Также в планах есть поддержка конвертации модов для VCMI, чтобы использовать наработки сообщества. 

# Краткая сводка ключевых фич

Неполный перечень фич, которые рассматриваются как ключевые для будущего проекта, в сравнении с Hota+HdMod и VCMI. 
1. Поддержка сетевой игры, концептуально защищенный от большинства читов. Мапхак должен быть невозможен просто потому что у клиента не будет необходимой инфы.
2. В качества инструмента №1 для анализа как для игрока, так и для разработчика становится реплей (как всей игры в целом, так и реплей для одного боя). Реплей так же как средство борьбы с читерами. 
3. Режим наблюдателя/стримера для игры
4. Режим одновременных ходов, который позволяет одновременные действия для команды без прерывания ОХ (а также возможность "бесконечных ОХ" до конца игры)
5. Возможность гибкого переключения между правилами SoD/HotA, добавление фич и балансных изменений не скопом, а частично. Выход новых версий с балансом FreeHeroes должен позволять игрокам играть в любую ранее вышедшую версию баланса и правил.
6. Серверная часть для поиска оппонентов (лобби) должно быть максимально децентрализованным; в случае закрытия проекта/просрочки домена/потери интереса автора FreeHeroes, любой энтузиаст должен в сжатые сроки поднять замену с сохранением базы пользователей с их рейтингом. Сервер рейтинга должен быть отделен от сервера игр.
7. Доработать и развить искусственный интеллект, предоставить исследователям создавать свои варианты AI, которые смогут сражаться как между собой, так и с человеком. У ботов должны быть такие же права, как и у людей!
8. Совместимость с HotA односторонняя. Должен быть импорт шаблонов, а так же импорт одиночных карт и кампаний HotA; приоритет на совместимости импорта шаблонов. Так же по мере выхода новых версий HotA все возможности должны быть оперативно привнесены в движок.
9. Не должно быть “абузов” недоработок игры, как например “абуза таймера” (доп. ожидание когда таймер остановлен на каком-то диалоге). 
10. Создавать турниры и шоуматчи с кастомными шаблонами и правилами, должно быть удобно, легко и приятно, как для моддеров, как для стримеров, так и для игроков. 


# Частые вопросы
**Когда в игру можно будет полноценно играть? Когда релиз 1.0?**  
У меня нет к сожалению, точной даты, но по моей оптимистичной оценке работа над движком может занять год или два. Однако, качества "Беты", когда более-менее все работает, возможно получится достичь уже к началу 2021 года. (сетевая игра на случайных шаблонах).

**Ты общался с разработчиками HotA? Они возьмут твой движок?**  
Нет, не общался, и не вижу пока причин тратить их время на такой ранней стадии готовности. Во-вторых, если они даже VCMI не взяли, с чего бы им брать мой движок? Я думаю для их критериев качества работы просто неимоверное количество нужно сделать! В отдаленной перспективе я был бы рад такой возможности, но пока я думаю я просто буду "зеркалить" все нововведения HotA.  

**Ты планируешь разрабатывать движок для лобби, а что скажут HD Mod и Бараторч?**  
У меня нет никаких планов предоставлять сервис лобби или рейтинговый сервер на постоянной основе. Да, у меня возможно будут какие-то тестовые сервера для проверки возможностей, шоуматчей, но не более того. Планов поддерживать публичный сервер - нет. Если кто-то пожелает, сможет взять исходники, поднять инфраструктуру, начать собирать донаты и уже утрясать финансовые конфликты с командой HD Mod самостоятельно.  
(Идеальным вариантом было бы чтобы команда HD Mod собирала донаты и поддерживала сервер лобби и для FreeHeros тоже - но это уже из области фантастики. )  

**Почему нужен этот конвертер вообще, сделай инсталлятор как у HotA со всеми ресурсами**  
Во-первых, есть вполне объективные правовые ограничения. Я не могу поставлять ресурсы оригинальной игры - это ограничено копирайтом. Даже конвертация их - "серая зона".  
Во-вторых, это упрощает обновления, дистрибутив сейчас всего 10 Мб, что приятно.  
И последнее инсталлятор в принципе возможен, такие планы есть, и в него можно встроить конвертер, так что с точки зрения пользователя по удобству будет почти как аддон для HotA.  

# История прошлых версий и RoadMap на будущие релизы
(план) 0.4 - Режим приключений
- Редактор карты
- Импорт карт SoD/HotA
- Минимальная функциональность случайных карт
- реализация большей части объектов карты приключений
- возможность игры по сети 1:1.

(план) 0.3 - завершение работы над битвами:  
- Завершить все способности существ;
- Боевые машины, осада города;
- Отстройка города, покупка армии и героев;
- Диалог обмена между 2 героями.
- (план-максимум: заложить основу для сетевого режима в каком-то виде).

0.2, 12.08.2020 - реализовано больше половины функциональности, относящейся к битве. Крупные фичи:  
- **!** Редактирование параметров героя в конфигураторе, навыки, артефакты;
- **!** Диалог героя - управление куклой с артефактами + управление стеками армии;
- **!** Искусственный интеллект и автобой (на базовом уровне)
- **!** Возможность записывать и проигрывать реплеи битвы;
- **!** Реализована книга заклинаний, диалог для нее и возможность колдовать магию двух типов - бафы/дебафы и ударные заклинания.
- Артефакты - готово 122/154
- Заклинания - готово 35/71
- Вторичные навыки готово 19/29
- Специализации героев - 37/63
- Способности существ - 33/118

0.1, 03.07.2020 - первый тестовый релиз.  
- **!** Утилита конвертации ресурсов HotA
- **!** Тестовое окно BattleEmulator - возможность выбора армии каждой из сторон и ее расположения.
- **!** Окно битвы 
- **!** Окно настроек - звук, скорость анимации
- Анимации существ в бою (кроме анимаций способностей)
- Действия в битве - ожидание, защита, перемещение, атака в ближнем бою и в дальнем бою
- Расчет урона и ответного урона
- Журнал действий
- Некоторые способности: полет, телепорт, двойная атака, безответная атака, 2 и бесконечные ответки.
- Учет штрафов: ближний бой для стрелков, расстояние
- Расчет доступности для широких существ. Доп направления атаки для широких существ.
  
0.0, 01.06.2020 -  начало работы над проектом.


# А планируется вот (такая фича)?
У меня есть гуглодок с мозговым штуром фич на будущие релизы:  
https://docs.google.com/document/d/1ocZYzh3PIVlZOqq7NI8M-RLMKJDVmhMBj6BMrP3R2PU/edit  
Можете написать мне, обсудить какие-то важные общие возможности (только если это не специфичные вещи вроде "хочу заклинание которое работает вот так")